!function(h){h.fn.theiaStickySidebar=function(i){var t;function e(i,t){if(!0!==i.initialized){if(h("body").width()<i.minWidth)return!1;var b=i,i=t;b.initialized=!0,0===h("#theia-sticky-sidebar-stylesheet-"+b.namespace).length&&h("head").append(h('<style id="theia-sticky-sidebar-stylesheet-'+b.namespace+'">.theiaStickySidebar:after {content: ""; display: table; clear: both;}</style>')),i.each(function(){var o,i,t,e,a,n={},s=(n.sidebar=h(this),n.options=b||{},n.container=h(n.options.containerSelector),0==n.container.length&&(n.container=n.sidebar.parent()),n.sidebar.parents().css("-webkit-transform","none"),n.sidebar.css({position:n.options.defaultPosition,overflow:"visible","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"}),n.stickySidebar=n.sidebar.find(".theiaStickySidebar"),0==n.stickySidebar.length&&(o=/(?:text|application)\/(?:x-)?(?:javascript|ecmascript)/i,n.sidebar.find("script").filter(function(i,t){return 0===t.type.length||t.type.match(o)}).remove(),n.stickySidebar=h("<div>").addClass("theiaStickySidebar").append(n.sidebar.children()),n.sidebar.append(n.stickySidebar)),n.marginBottom=parseInt(n.sidebar.css("margin-bottom")),n.paddingTop=parseInt(n.sidebar.css("padding-top")),n.paddingBottom=parseInt(n.sidebar.css("padding-bottom")),n.stickySidebar.offset().top),d=n.stickySidebar.outerHeight();function p(){n.fixedScrollTop=0,n.sidebar.css({"min-height":"1px"}),n.stickySidebar.css({position:"static",width:"",transform:"none"})}n.stickySidebar.css("padding-top",1),n.stickySidebar.css("padding-bottom",1),s-=n.stickySidebar.offset().top,d=n.stickySidebar.outerHeight()-d-s,0==s?(n.stickySidebar.css("padding-top",0),n.stickySidebarPaddingTop=0):n.stickySidebarPaddingTop=1,0==d?(n.stickySidebar.css("padding-bottom",0),n.stickySidebarPaddingBottom=0):n.stickySidebarPaddingBottom=1,n.previousScrollTop=null,n.fixedScrollTop=0,p(),n.onScroll=function(i){if(i.stickySidebar.is(":visible"))if(h("body").width()<i.options.minWidth)p();else{if(i.options.disableOnResponsiveLayouts)if(i.sidebar.outerWidth("none"==i.sidebar.css("float"))+50>i.container.width())return void p();var t,o,e,a,n,s,d,r=h(document).scrollTop(),c="static";r>=i.sidebar.offset().top+(i.paddingTop-i.options.additionalMarginTop)&&(o=i.paddingTop+b.additionalMarginTop,s=i.paddingBottom+i.marginBottom+b.additionalMarginBottom,d=i.sidebar.offset().top,a=i.sidebar.offset().top+(a=i.container,n=a.height(),a.children().each(function(){n=Math.max(n,h(this).height())}),n),t=0+b.additionalMarginTop,o=i.stickySidebar.outerHeight()+o+s<h(window).height()?t+i.stickySidebar.outerHeight():h(window).height()-i.marginBottom-i.paddingBottom-b.additionalMarginBottom,s=d-r+i.paddingTop,d=a-r-i.paddingBottom-i.marginBottom,a=i.stickySidebar.offset().top-r,e=i.previousScrollTop-r,"fixed"==i.stickySidebar.css("position")&&"modern"==i.options.sidebarBehavior&&(a+=e),"stick-to-top"==i.options.sidebarBehavior&&(a=b.additionalMarginTop),"stick-to-bottom"==i.options.sidebarBehavior&&(a=o-i.stickySidebar.outerHeight()),a=0<e?Math.min(a,t):Math.max(a,o-i.stickySidebar.outerHeight()),a=Math.max(a,s),a=Math.min(a,d-i.stickySidebar.outerHeight()),c=((e=i.container.height()==i.stickySidebar.outerHeight())||a!=t)&&(e||a!=o-i.stickySidebar.outerHeight())?r+a-i.sidebar.offset().top-i.paddingTop<=b.additionalMarginTop?"static":"absolute":"fixed"),"fixed"==c?(s=h(document).scrollLeft(),i.stickySidebar.css({position:"fixed",width:l(i.stickySidebar)+"px",transform:"translateY("+a+"px)",left:i.sidebar.offset().left+parseInt(i.sidebar.css("padding-left"))-s+"px",top:"0px"})):"absolute"==c?(d={},"absolute"!=i.stickySidebar.css("position")&&(d.position="absolute",d.transform="translateY("+(r+a-i.sidebar.offset().top-i.stickySidebarPaddingTop-i.stickySidebarPaddingBottom)+"px)",d.top="0px"),d.width=l(i.stickySidebar)+"px",d.left="",i.stickySidebar.css(d)):"static"==c&&p(),"static"!=c&&1==i.options.updateSidebarHeight&&i.sidebar.css({"min-height":i.stickySidebar.outerHeight()+i.stickySidebar.offset().top-i.sidebar.offset().top+i.paddingBottom}),i.previousScrollTop=r}},n.onScroll(n),h(document).on("scroll."+n.options.namespace,(i=n,function(){i.onScroll(i)})),h(window).on("resize."+n.options.namespace,(t=n,function(){t.stickySidebar.css({position:"static"}),t.onScroll(t)})),n.options.scrollSelector&&h(window).on("resize."+n.options.namespace,(e=n,function(){e.stickySidebar.css({position:"static"}),e.onScroll(e)})),"undefined"!=typeof ResizeSensor&&new ResizeSensor(n.stickySidebar[0],(a=n,function(){a.onScroll(a)}))})}return!0}function l(i){var t;try{t=i[0].getBoundingClientRect().width}catch(i){}return t=void 0===t?i.width():t}return(i=h.extend({containerSelector:"",additionalMarginTop:0,additionalMarginBottom:0,updateSidebarHeight:!0,minWidth:0,disableOnResponsiveLayouts:!0,sidebarBehavior:"modern",defaultPosition:"relative",namespace:"TSS",scrollSelector:""},i)).additionalMarginTop=parseInt(i.additionalMarginTop)||0,i.additionalMarginBottom=parseInt(i.additionalMarginBottom)||0,e(i=i,t=this)||(console.log("TSS: Body width smaller than options.minWidth. Init is delayed."),h(document).on("scroll."+i.namespace,function(t,o){return function(i){e(t,o)&&h(this).unbind(i)}}(i,t)),h(window).on("resize."+i.namespace,function(t,o){return function(i){e(t,o)&&h(this).unbind(i)}}(i,t))),this}}(jQuery);
//# sourceMappingURL=maps/theia-sticky-sidebar.min.js.map
